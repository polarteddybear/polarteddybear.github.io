<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Psychoanalytic Self-Exploration</title>
  <style>
    /* Base Styles */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Georgia', serif; }
    body {
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.7;
      background-image: linear-gradient(rgba(255,255,255,0.9),rgba(255,255,255,0.9)),
                        url('https://cdnjs.cloudflare.com/ajax/libs/simple-icons/10.0.0/simpleicons.svg');
      background-size: cover; background-attachment: fixed; background-position: center;
    }
    header { /* ...header styles... */ }
    nav { /* ...nav styles... */ }
    .container { max-width: 1000px; margin: 2rem auto; padding: 0 2rem; }
    .section { background-color: rgba(255,255,255,0.97); padding: 2.5rem; border-radius: 8px;
               box-shadow: 0 8px 30px rgba(0,0,0,0.15); margin-bottom: 2rem; border-top: 5px solid #1e293b; }
    .hidden { display: none !important; }
    /* Additional CSS (headings, buttons, form groups, media queries, etc.) */
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <h1>Psychoanalytic Self-Exploration</h1>
      <p>Discover your unconscious dynamics through structured inquiry</p>
    </div>
  </header>
  
  <nav>
    <ul>
      <li><a href="#home" class="nav-link active" data-section="home">Introduction</a></li>
      <li><a href="#about" class="nav-link" data-section="about">Theory</a></li>
      <li><a href="#assessment" class="nav-link" data-section="assessment">Assessment</a></li>
    </ul>
  </nav>
  
  <div class="container">
    <!-- Home Section -->
    <section id="home" class="section">
      <h2>Welcome to Psychoanalytic Self-Exploration</h2>
      <p>This assessment draws upon classical and contemporary psychoanalytic theories...</p>
      <a href="#assessment" class="btn start-assessment">Begin Assessment</a>
    </section>
    
    <!-- Theory Section -->
    <section id="about" class="section hidden">
      <h2>Theoretical Foundations</h2>
      <p>Learn about the key theories that inform this assessment...</p>
      <a href="#assessment" class="btn start-assessment">Proceed to Assessment</a>
    </section>
    
    <!-- Assessment Section (Survey Form) -->
    <section id="assessment" class="section hidden">
      <h2>Psychoanalytic Self-Assessment</h2>
      <p>Answer the following 15 questions based on psychoanalytic theory.</p>
      
      <form id="assessment-form">
        <!-- Part I: Defense Mechanisms (Questions 1–3) -->
        <div class="form-group">
          <h3>Part I: Defense Mechanisms</h3>
          <div class="question">1. When faced with a painful emotion, I typically:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q1-a" name="q1" value="intellectualization" required>
              <label for="q1-a">Analyze it intellectually...</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q1-b" name="q1" value="displacement">
              <label for="q1-b">Get irritated about unrelated matters</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q1-c" name="q1" value="denial">
              <label for="q1-c">Ignore the feeling altogether</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q1-d" name="q1" value="reaction-formation">
              <label for="q1-d">Express the opposite emotion</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">2. When someone criticizes me, I tend to:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q2-a" name="q2" value="projection" required>
              <label for="q2-a">Feel they're being unfair</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q2-b" name="q2" value="introjection">
              <label for="q2-b">Internalize the criticism</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q2-c" name="q2" value="rationalization">
              <label for="q2-c">Justify my actions</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q2-d" name="q2" value="isolation">
              <label for="q2-d">Detach emotionally</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">3. I find that my unacceptable urges or desires:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q3-a" name="q3" value="repression" required>
              <label for="q3-a">Remain unconscious</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q3-b" name="q3" value="sublimation">
              <label for="q3-b">Are redirected into creative outlets</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q3-c" name="q3" value="regression">
              <label for="q3-c">Emerge in immature behavior</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q3-d" name="q3" value="undoing">
              <label for="q3-d">Lead to compensatory actions</label>
            </div>
          </div>
        </div>
        
        <!-- Part II: Object Relations (Questions 4–6) -->
        <div class="form-group">
          <h3>Part II: Object Relations</h3>
          <div class="question">4. In close relationships, I most often worry about:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q4-a" name="q4" value="abandonment" required>
              <label for="q4-a">Being abandoned</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q4-b" name="q4" value="engulfment">
              <label for="q4-b">Losing my independence</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q4-c" name="q4" value="persecution">
              <label for="q4-c">Being hurt or betrayed</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q4-d" name="q4" value="adequacy">
              <label for="q4-d">Not being good enough</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">5. When I'm disappointed by someone, I typically:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q5-a" name="q5" value="splitting-neg" required>
              <label for="q5-a">Focus only on their negatives</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q5-b" name="q5" value="identification">
              <label for="q5-b">Blame myself</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q5-c" name="q5" value="idealization">
              <label for="q5-c">Maintain a positive view</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q5-d" name="q5" value="ambivalence">
              <label for="q5-d">Feel conflicted about them</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">6. My relationship patterns tend to be:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q6-a" name="q6" value="anxious" required>
              <label for="q6-a">Intense and insecure</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q6-b" name="q6" value="avoidant">
              <label for="q6-b">Emotionally distant</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q6-c" name="q6" value="secure">
              <label for="q6-c">Stable and balanced</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q6-d" name="q6" value="disorganized">
              <label for="q6-d">Inconsistent and conflicted</label>
            </div>
          </div>
        </div>
        
        <!-- Part III: Psychosexual Development (Questions 7–8) -->
        <div class="form-group">
          <h3>Part III: Psychosexual Development</h3>
          <div class="question">7. Which trait best describes you in daily life?</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q7-a" name="q7" value="oral" required>
              <label for="q7-a">Dependent with emotional needs</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q7-b" name="q7" value="anal">
              <label for="q7-b">Orderly and precise</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q7-c" name="q7" value="phallic">
              <label for="q7-c">Competitive and status-driven</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q7-d" name="q7" value="genital">
              <label for="q7-d">Balanced in relationships</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">8. In making decisions, I prioritize:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q8-a" name="q8" value="id" required>
              <label for="q8-a">Immediate pleasure</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q8-b" name="q8" value="superego">
              <label for="q8-b">Moral standards</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q8-c" name="q8" value="ego">
              <label for="q8-c">Practicality</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q8-d" name="q8" value="balanced">
              <label for="q8-d">A balance of all factors</label>
            </div>
          </div>
        </div>
        
        <!-- Part IV: Self Psychology (Questions 9–10) -->
        <div class="form-group">
          <h3>Part IV: Self Psychology</h3>
          <div class="question">9. What do you most seek from important relationships?</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q9-a" name="q9" value="mirroring" required>
              <label for="q9-a">Validation and recognition</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q9-b" name="q9" value="idealizing">
              <label for="q9-b">Strong, protective figures</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q9-c" name="q9" value="twinship">
              <label for="q9-c">A sense of belonging</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q9-d" name="q9" value="altruistic">
              <label for="q9-d">Opportunities to support others</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">10. When facing failure, I typically feel:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q10-a" name="q10" value="fragmentation" required>
              <label for="q10-a">A deep sense of shame</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q10-b" name="q10" value="realistic">
              <label for="q10-b">Disappointed yet grounded</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q10-c" name="q10" value="external">
              <label for="q10-c">That external factors caused it</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q10-d" name="q10" value="growth">
              <label for="q10-d">That it’s an opportunity to learn</label>
            </div>
          </div>
        </div>
        
        <!-- Part V: Dreams and Symbolism (Questions 11–12) -->
        <div class="form-group">
          <h3>Part V: Dreams and Symbolism</h3>
          <div class="question">11. Which recurring dream theme resonates most with you?</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q11-a" name="q11" value="falling" required>
              <label for="q11-a">Falling or losing control</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q11-b" name="q11" value="pursuit">
              <label for="q11-b">Being pursued or threatened</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q11-c" name="q11" value="unprepared">
              <label for="q11-c">Feeling unprepared</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q11-d" name="q11" value="flying">
              <label for="q11-d">Flying or transcending limits</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">12. Which symbolic image carries the most emotional resonance?</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q12-a" name="q12" value="water" required>
              <label for="q12-a">Deep water or ocean</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q12-b" name="q12" value="enclosure">
              <label for="q12-b">An enclosed space (cave, room, etc.)</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q12-c" name="q12" value="height">
              <label for="q12-c">A tall structure (tower, mountain, etc.)</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q12-d" name="q12" value="threshold">
              <label for="q12-d">A doorway or threshold</label>
            </div>
          </div>
        </div>
        
        <!-- Part VI: Anxiety and Conflict (Questions 13–15) -->
        <div class="form-group">
          <h3>Part VI: Anxiety and Conflict</h3>
          <div class="question">13. My anxiety is most often triggered by:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q13-a" name="q13" value="separation" required>
              <label for="q13-a">Separation or being alone</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q13-b" name="q13" value="performance">
              <label for="q13-b">Performance evaluations</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q13-c" name="q13" value="social">
              <label for="q13-c">Social judgment</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q13-d" name="q13" value="existential">
              <label for="q13-d">Existential concerns</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">14. The internal conflict I struggle with most involves:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q14-a" name="q14" value="dependency" required>
              <label for="q14-a">Dependence versus independence</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q14-b" name="q14" value="expression">
              <label for="q14-b">Emotional expression versus control</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q14-c" name="q14" value="selfother">
              <label for="q14-c">Self-interest versus caring for others</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q14-d" name="q14" value="competence">
              <label for="q14-d">Achievement versus accepting limitations</label>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <div class="question">15. When contemplating my childhood experiences, I believe they primarily:</div>
          <div class="radio-group">
            <div class="radio-option">
              <input type="radio" id="q15-a" name="q15" value="secure" required>
              <label for="q15-a">Provided security and confidence</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q15-b" name="q15" value="ambivalent">
              <label for="q15-b">Were inconsistent, leading to uncertainty</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q15-c" name="q15" value="avoidant">
              <label for="q15-c">Taught me to rely on myself</label>
            </div>
            <div class="radio-option">
              <input type="radio" id="q15-d" name="q15" value="complex">
              <label for="q15-d">Were complex with nurturing and difficult elements</label>
            </div>
          </div>
        </div>
        
        <button type="submit" class="btn">Submit Assessment</button>
      </form>
      
      <!-- Results Section (initially hidden) -->
      <div id="results" class="hidden">
        <div class="result-section">
          <h2 class="result-heading">Your Psychoanalytic Profile</h2>
          <div id="result-content" class="result-content"></div>
          <a href="#home" class="btn return-home">Return to Introduction</a>
        </div>
      </div>
    </section>
  </div>
  
  <footer>
    <p>&copy; 2025 Psychoanalytic Self-Exploration. For educational purposes only.</p>
  </footer>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const navLinks = document.querySelectorAll('.nav-link');
      const sections = document.querySelectorAll('.section');
      
      // On initial load, show only the home section
      sections.forEach(section => {
        if (section.id !== 'home') section.classList.add('hidden');
      });
      
      // Navigation click handler
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          navLinks.forEach(link => link.classList.remove('active'));
          link.classList.add('active');
          const target = link.getAttribute('data-section');
          sections.forEach(section => {
            section.classList.toggle('hidden', section.id !== target);
          });
        });
      });
      
      // Begin Assessment button handler
      document.querySelectorAll('.start-assessment').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          // Set assessment as active and hide other sections
          navLinks.forEach(link => link.classList.remove('active'));
          document.querySelector('[data-section="assessment"]').classList.add('active');
          sections.forEach(section => {
            section.classList.toggle('hidden', section.id !== 'assessment');
          });
          document.getElementById('assessment').scrollIntoView({ behavior: 'smooth' });
        });
      });
      
      // Form submission handling
      const assessmentForm = document.getElementById('assessment-form');
      const resultsDiv = document.getElementById('results');
      const resultContent = document.getElementById('result-content');
      
      if (assessmentForm) {
        assessmentForm.addEventListener('submit', (e) => {
          e.preventDefault();
          // Validate that all required radios are checked
          const allAnswered = Array.from(document.querySelectorAll('input[type="radio"][required]'))
            .every(input => document.querySelector(`input[name="${input.name}"]:checked`));
          if (!allAnswered) {
            alert("Please answer all questions before submitting.");
            return;
          }
          // Collect responses
          const formData = new FormData(assessmentForm);
          const responses = {};
          for (const [key, value] of formData.entries()) {
            responses[key] = value;
          }
          // Generate profile HTML (using your profile generation functions)
          resultContent.innerHTML = generatePsychoanalyticProfile(responses);
          assessmentForm.style.display = 'none';
          resultsDiv.classList.remove('hidden');
          resultsDiv.scrollIntoView({ behavior: 'smooth' });
        });
      }
      
      // Return to Home handler
      const returnHomeBtn = document.querySelector('.return-home');
      if (returnHomeBtn) {
        returnHomeBtn.addEventListener('click', (e) => {
          e.preventDefault();
          navLinks.forEach(link => link.classList.remove('active'));
          document.querySelector('[data-section="home"]').classList.add('active');
          sections.forEach(section => {
            section.classList.toggle('hidden', section.id !== 'home');
          });
          if (assessmentForm) {
            assessmentForm.style.display = 'block';
            assessmentForm.reset();
          }
          resultsDiv.classList.add('hidden');
          document.getElementById('home').scrollIntoView({ behavior: 'smooth' });
        });
      }
      
      // Your profile generation functions (generatePsychoanalyticProfile, countResponsesInRange, etc.)
      // Should be defined here or imported from a separate script.
    });
  </script>
</body>
</html>
